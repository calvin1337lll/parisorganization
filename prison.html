<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>سجن باريس الفيدرالي</title>
    <style>
        body { background: #000; color: white; font-family: 'Cairo', sans-serif; padding: 20px; }
        .prison-card { 
            background: #0a0a0a; border: 1px solid #ff4757; border-radius: 10px; padding: 20px; 
            max-width: 600px; margin: 20px auto; position: relative; overflow: hidden;
        }
        .prison-card::before { content: 'PRISONER'; position: absolute; top: 10px; left: -30px; background: #ff4757; color: white; padding: 5px 40px; transform: rotate(-45deg); font-size: 10px; font-weight: bold; }
        .prison-img { width: 100px; height: 100px; border-radius: 50%; border: 3px solid #ff4757; margin-bottom: 15px; }
        h2 { color: #ff4757; }
    </style>
</head>
<body>
    <h1 style="text-align:center; color:#ff4757; margin-top:50px;"><i class="fas fa-lock"></i> قائمة السجناء والجرائم</h1>
    <div id="prison-list"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        const db = getDatabase(initializeApp({apiKey: "AIzaSyCQ-8xDBbTDugkwdJMT6BbnaW5aQxufbf4", databaseURL: "https://webparis-ef921-default-rtdb.firebaseio.com"}));

        onValue(ref(db, 'prison'), (snap) => {
            const list = document.getElementById('prison-list');
            list.innerHTML = "";
            snap.forEach(c => {
                const d = c.val();
                list.innerHTML += `
                    <div class="prison-card">
                        <div style="display:flex; align-items:center; gap:20px;">
                            ${d.image ? `<img src="${d.image}" class="prison-img">` : ''}
                            <div>
                                <h2>${d.title}</h2>
                                <p style="color:#ccc;">${d.body}</p>
                                <small style="color:#555;">التاريخ: ${d.time}</small>
                            </div>
                        </div>
                    </div>`;
            });
        });
    </script>
</body>
</html>
